function com(b,a,j,k,g,f,i,d,h,c,e){this.symbol=b;this.name=a;this.unit=j;this.contract=k;this.price=g;this.buying=f;this.selling=i;this.quantity=d;this.total=h;this.margin=c;this.pnl=e}var header=new com("Symbol","Goods","Unit","Contract Size","Market Price","Buying Price","Selling Price","Quantity","Contract Value","Margin 5%","Profit /Loss");var headerAll=[header];var gold=new com("GC=F","Gold","t oz.",100,0,0,0,0,0,0,0);var silver=new com("SI=F","Silver","t oz.",5000,0,0,0,0,0,0,0);var platinum=new com("PL=F","Platinum","t oz.",50,0,0,0,0,0,0,0);var copper=new com("HG=F","Copper","lb.",25000,0,0,0,0,0,0,0);var metals=[gold,silver,platinum,copper];var crudeOil=new com("CL=F","Crude Oil","bbl.",1000,0,0,0,0,0,0,0);var naturalGas=new com("NG=F","Natural Gas","MMBtu",10000,0,0,0,0,0,0,0);var energy=[crudeOil,naturalGas];var corn=new com("C=F","Corn","bu",5000,0,0,0,0,0,0,0);var oats=new com("O=F","Oats","bu.",5000,0,0,0,0,0,0,0);var wheat=new com("KW=F","Wheat","bu.",5000,0,0,0,0,0,0,0);var soybeans=new com("S=F","Soybeans","bu.",5000,0,0,0,0,0,0,0);var coffee=new com("KC=F","Coffee","lb.",37500,0,0,0,0,0,0,0);var orangeJuice=new com("OJ=F","Orange Juice","lb.",15000,0,0,0,0,0,0,0);var sugar=new com("SB=F","Sugar","lb.",112000,0,0,0,0,0,0,0);var roughRice=new com("RR=F","Rough Rice","cwt",2000,0,0,0,0,0,0,0);var cocoa=new com("CC=F","Cocoa","MT",10,0,0,0,0,0,0,0);var cotton=new com("CT=F","Cotton","lb.",50000,0,0,0,0,0,0,0);var lumber=new com("LB=F","Lumber","1k board ft",110,0,0,0,0,0,0,0);var leanHogs=new com("LH=F","Lean Hogs","lb.",40000,0,0,0,0,0,0,0);var feederCattle=new com("FC=F","Feeder Cattle","lb.",50000,0,0,0,0,0,0,0);var liveCattle=new com("LC=F","Live Cattle","lb.",40000,0,0,0,0,0,0,0);var agriculture=[wheat,corn,soybeans,oats,roughRice,coffee,orangeJuice,sugar,cocoa,cotton,lumber,leanHogs,feederCattle,liveCattle];function getCom(){var a=headerAll.concat(metals).concat(energy).concat(agriculture);var b=localStorage.getItem("com");if(b!==null){a=JSON.parse(b)}return a}function showCom(){$("#com").html("");var a=getCom();var b=$("<table></table>");for(var c=0;c<a.length;c++){var e=a[c];var d=$("<tr></tr>");d.append($("<td></td>").html(e.name));d.append($("<td></td>").html(e.unit));d.append($("<td></td>").html(e.contract));d.append($("<td></td>").html(e.price));d.append($("<td></td>").html(e.buying));d.append($("<td></td>").html(e.selling));d.append($("<td></td>").html(e.quantity));d.append($("<td></td>").html(e.total));d.append($("<td></td>").html(e.margin));d.append($("<td></td>").html(e.pnl));b.append(d)}b.appendTo($("#com"))}showCom();var symbol="";var lastPrice=0;$("#gold").click(function(){symbol="GC=F";$("#goods").html("Gold");$("#price").html("No Price");getData()});$("#silver").click(function(){symbol="SI=F";$("#goods").html("Silver");$("#price").html("No Price");getData()});$("#platinum").click(function(){symbol="PL=F";$("#goods").html("Platinum");$("#price").html("No Price");getData()});$("#copper").click(function(){symbol="HG=F";$("#goods").html("Copper");$("#price").html("No Price");getData()});$("#crudeOil").click(function(){symbol="CL=F";$("#goods").html("Crude Oil");$("#price").html("No Price");getData()});$("#naturalGas").click(function(){symbol="NG=F";$("#goods").html("Natural Gas");$("#price").html("No Price");getData()});$("#corn").click(function(){symbol="C=F";$("#goods").html("Corn");$("#price").html("No Price");getData1()});$("#oats").click(function(){symbol="O=F";$("#goods").html("Oats");$("#price").html("No Price");getData1()});$("#wheat").click(function(){symbol="KW=F";$("#goods").html("Wheat");$("#price").html("No Price");getData1()});$("#soybeans").click(function(){symbol="S=F";$("#goods").html("Soybeans");$("#price").html("No Price");getData1()});$("#cotton").click(function(){symbol="CT=F";$("#goods").html("Cotton");$("#price").html("No Price");getData1()});$("#orangeJuice").click(function(){symbol="OJ=F";$("#goods").html("Orange Juice");$("#price").html("No Price");getData1()});$("#sugar").click(function(){symbol="SB=F";$("#goods").html("Sugar");$("#price").html("No Price");getData1()});$("#coffee").click(function(){symbol="KC=F";$("#goods").html("Coffee");$("#price").html("No Price");getData1()});$("#roughRice").click(function(){symbol="RR=F";$("#goods").html("Rough Rice");$("#price").html("No Price");getData()});$("#cocoa").click(function(){symbol="CC=F";$("#goods").html("Cocoa");$("#price").html("No Price");getData()});$("#lumber").click(function(){symbol="LB=F";$("#goods").html("Lumber");$("#price").html("No Price");getData()});$("#leanHogs").click(function(){symbol="LH=F";$("#goods").html("Lean Hogs");$("#price").html("No Price");getData1()});$("#feederCattle").click(function(){symbol="FC=F";$("#goods").html("Feeder Cattle");$("#price").html("No Price");getData1()});$("#liveCattle").click(function(){symbol="LC=F";$("#goods").html("Live Cattle");$("#price").html("No Price");getData1()});function getData(){var a="http://query.yahooapis.com/v1/public/yql";var b=encodeURIComponent("select * from yahoo.finance.quotes where symbol in ('"+symbol+"')");$.getJSON(a,"q="+b+"&format=json&diagnostics=true&env=http://datatables.org/alltables.env").done(function(c){lastPrice=parseFloat(c.query.results.quote.LastTradePriceOnly);$("#price").text("Bid Price: "+lastPrice)}).fail(function(e,f,c){var d=f+", "+c;$("#price").text("Request failed: "+d)})}function getData1(){var a="http://query.yahooapis.com/v1/public/yql";var b=encodeURIComponent("select * from yahoo.finance.quotes where symbol in ('"+symbol+"')");$.getJSON(a,"q="+b+"&format=json&diagnostics=true&env=http://datatables.org/alltables.env").done(function(c){lastPrice=Math.round(parseFloat(c.query.results.quote.LastTradePriceOnly)*100)/10000;$("#price").text("Bid Price: "+lastPrice)}).fail(function(e,f,c){var d=f+", "+c;$("#price").text("Request failed: "+d)})}function getAccount(){var a=50000;var b=localStorage.getItem("account");if(b!==null){a=parseFloat(b)}a=Math.round(a*100)/100;return a}$("#account").html("Account: US$ "+getAccount());function getPnl(){var b=0;var a=localStorage.getItem("pnl");if(a!==null){b=parseFloat(a)}b=Math.round(b*100)/100;return b}$("#pnl").html("Profit/Loss: US$ "+getPnl());$("#update").click(function update(){var a=getCom();function b(){for(var e=0;e<a.length;e++){if(a[e].symbol===symbol){return a[e]}}}var d=b();d.price=lastPrice;d.total=d.price*d.contract*d.quantity;d.total=Math.round(d.total*100)/100;d.margin=Math.round(d.total*5)/100;var c=JSON.stringify(a);localStorage.setItem("com",c);showCom()});$("#buy").click(function(){$("#update").click();var a=getCom();var e=getAccount();var c=getPnl();function b(){for(var g=0;g<a.length;g++){if(a[g].symbol===symbol){return a[g]}}}var f=b();if(f.quantity===0){f.quantity++;f.buying=lastPrice;f.total=f.buying*f.contract*f.quantity;f.margin=f.total*0.05;f.margin=Math.round(f.margin*100)/100;f.total=Math.round(f.total*100)/100;var d=JSON.stringify(a);localStorage.setItem("com",d);showCom();e-=f.margin;e=Math.round(e*100)/100;localStorage.setItem("account",e);$("#account").html("Account: US$ "+e)}else{return false}});$("#sell").click(function(){$("#update").click();var a=getCom();function c(){for(var g=0;g<a.length;g++){if(a[g].symbol===symbol){return a[g]}}}var f=c();var e=getAccount();var b=getPnl();if(f.quantity>0){f.quantity--;f.selling=lastPrice;f.pnl=(f.selling-f.buying)*f.contract;f.pnl=Math.round(f.pnl*100)/100;e+=f.margin;e=Math.round(e*100)/100;localStorage.setItem("account",e);$("#account").html("Account: US$ "+e);b+=(f.selling-f.buying)*f.contract;b=Math.round(b*100)/100;localStorage.setItem("pnl",b);$("#pnl").html("Profit/Loss: US$ "+b);f.total=f.selling*f.contract*f.quantity;f.margin=f.total*0.05;f.margin=Math.round(f.margin*100)/100;f.total=Math.round(f.total*100)/100}else{return false}var d=JSON.stringify(a);localStorage.setItem("com",d);showCom()});$("#reset").click(function(){localStorage.removeItem("com");localStorage.removeItem("account");localStorage.removeItem("pnl");$("#goods").html("No Goods");$("#price").html("No Price");$("#account").html("Account: US$ "+50000);$("#pnl").html("Profit/Loss: US$ "+0);showCom()});function get_todos(){var a=new Array;var b=localStorage.getItem("todo");if(b!==null){a=JSON.parse(b)}return a}function date(){var i=new Date();var f=i.getDate();var b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var e=i.getMonth();var h=i.getFullYear();var g=i.toLocaleTimeString();var c=" [ "+f+" "+b[e]+" "+h+" - "+g+" ]";return c}function add(){var b=date();var a=document.getElementById("task").value+" &nbsp "+b;var c=get_todos();c.push(a);localStorage.setItem("todo",JSON.stringify(c));show();return false}function remove(){var b=this.getAttribute("id");var a=get_todos();a.splice(b,1);localStorage.setItem("todo",JSON.stringify(a));show();return false}function show(){var a=get_todos();var c="<ol>";for(var b=0;b<a.length;b++){c+="<li>"+a[b]+'&nbsp <button class= "remove" id=" '+b+' " >x</button></li><br>'}c+="</ol>";document.getElementById("todos").innerHTML=c;var d=document.getElementsByClassName("remove");for(var b=0;b<d.length;b++){d[b].addEventListener("click",remove)}}document.getElementById("add").addEventListener("click",add);show();